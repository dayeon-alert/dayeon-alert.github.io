---
title: 220509
author: 다연
date: 2022-05-09 23:30:00
categories: [Study, SQL]
tags: [sql, til, study]
---
# Ch1. 데이터 모델링의 이해
## Ⅰ. 데이터 모델의 이해
### 1. 모델링이란?
* 데이터베이스의 모델링은 '현실 세계를 단순화하여 표현하는 기법'이다. 
* 모델링이 갖춰야 할 조건
	* 현실세계를 반영해야 한다.
	* 단순화하여 표현해야 한다.
	* 관리하고자 하는 데이터를 모델로 설계한다.

* 데이터 모델링을 할 때 지양해야 할 점
	* 중복(Duplication) : 같은 데이터가 여러 엔터티에 중복으로 저장되는 현상을 지양해야 한다.
	* 비유연성(Inflexibility) : 데이터 모델의 설계에 따라 어플리케이션의 사소한 변경에도 데이터 모델이 수시로 변경이 되어야 하는 상황이 생길 수 있다. 이런 상황은 시스템을 유지보수하는 데에 어려움을 가중시키므로 데이터 모델과 프로세스를 분리하여 유연성을 높이는 것이 바람직하다.

### 2. 모델링의 특징
1. 추상화(Abstraction) : 현실 세계를 일정한 형식으로 표현하는 것이다. 즉, 아이디어나 개념을 간략하게 표현하는 과정이다.
2. 단순화(Simplification) : 복잡한 현실 세계를 정해진 표기법으로 단순하고 쉽게 표현한다는 의미이다.
3. 명확화(Clarity) : 불분명함을 제거하고 명확하게 해석할 수 있도록 기술한다는 의미이다.
* 데이터베이스의 모델링은 '현실세계를 추상화, 단순화, 명확화하기 위해 일정한 표기법은 의해 표현하는 기법'이다.

### 3. 모델링의 세 가지 관점
1. 데이터 관점(What, Data) : 데이터 위주의 모델링이라고 할 수 있다. 어떤 데이터들이 업무와 얽혀있는지, 그리고 그 데이터 간에는 어떤 관계가 있는지에 대해서 모델링하는 방법이다.
2. 프로세스 관점(How, Process) : 프로세스 위주의 모델링이라고 할 수 있다. 이 업무가 실제로 처리하고 있는 일은 무엇인지 또는 앞으로 처리해야 하는 일은 무엇인지를 모델링하는 방법이다.
3. 데이터와 프로세스의 상관 관점(Data vs. Process, Interaction) : 데이터와 프로세스의 관계를 위주로 한 모델링이라고 할 수 있다. 프로세스의 흐름에 따라 데이터가 어떤 영향을 받는지를 모델링하는 방법이다. 

### 4. 모델링의 세 가지 단계
1. 개념적 데이터 모델링(Conceptual Data Modeling) : 전사적 데이터 모델링 수행 시 행해지며 추상화 레벨이 가장 높은 모델링이다. 이 단계에서는 업무 중심적이고 포괄적인 수준의 모델링이 진행된다.
2. 논리적 데이터 모델링(Logical Data Modeling) : 재사용성이 가장 높은 모델링으로 데이터베이스 모델에 대한 Key, 속성, 관계 등을 모두 표현하는 단계이다.
3. 물리적 데이터 모델링(Physical Data Modeling) : 실제 데이터베이스로 구현할 수 있도록 성능이나 가용성 등의 물리적인 성격을 고려하여 모델을 표현하는 단계이다.

### 5. 데이터의 독립성
#### 3단계 스키마 구조
a. 외부 스키마(External Schema), 사용자의 관점 : Multiple User's View 단계로 각 사용자가 보는 데이터베이스의 스키마를 정의한다. View 단계로 여러 개의 사용자 관점으로 구성되는 것
b. 개념 스키마(Conceptual Schema), 통합된 관점 : Community View of DB 단계로 모든 사용자가 보는 데이터베이스의 스키마를 통합하여 전체 데이터베이스를 나타내는 것이다. 데이터베이스에 저장되는 데이터들을 표현하고 데이터들 간의 관계를 나타낸다. 모든 사용자 관점을 통합한 조직 전체 관점의 통합적인 표현
c. 내부 스키마(Internal Schema), 물리적인 관점 : Physical Representation 단계로 물리적인 저장 구조를 나타낸다. 실질적인 데이터의 저장 구조나 컬럼 정의, 인덱스 등이 포함된다. 물리적인 저장 구조를 나타내는 것

#### 3단계 스키마 구조가 보장하는 독립성
a. 논리적 독립성 : 개념 스키마가 변경되어도 외부 스키마는 영향받지 않는다.
b. 물리적 독립성 : 내부 스키마가 변경되어도 외부/개념 스키마는 영향받지 않는다.

### 6. ERD(Entity Relationship Diagram)
1. ERD 표기 방식
a. Peter Chen : 주로 대학교재에서 사용하는 표기법으로 실무에서 사용하는 경우는 드물다.
b. IDEF1X(Integration Definition for Information Modeling) : 실무에서 사용하는 경우도 있으며 ERWin에서 사용되는 모델이기도 하다(ERWin은 ERD를 그리는 모델링 툴).
c. IE/Crow's Foot : 까마귀발 표기법이라고도 부르며 가장 많이 사용한다. ERWin, ERStudio에서 사용되는 모델이다(ERWin, ERStudio는 ERD를 그리는 모델링 툴).
d. Min-Max/ISO : 각 엔터티의 참여도를 좀 더 상세하게 나타내느 표기법이다. 
e. UML : 소프트웨어 공학에서 주로 사용되는 모델이다.
f. Case Method/Barker : Oracle에서 사용되는 모델로 Crow's Foot과 비슷하다. 
2. ERD 작성 순서
a. 엔터티를 도출하고 그린다.
b. 엔터티를 적절하게 배치한다.
c. 엔터티 간의 관계를 설정한다.
d. 관계명을 기입한다.
e. 관계의 참여도를 기입한다.
f. 관계의 필수/선택 여부를 기입한다. 
* 엔터티 : Table
* 인스턴스 : Row
* 속성 : Column

## Ⅱ. 엔터티(Entity)
### 2. 엔터티의 특징
1. 업무에서 쓰이는 정보여야 함
2. 유니크함을 보장할 수 있는 식별자가 있어야 함
3. 2개 이상의 인스턴스를 가지고 있어야 함
4. 반드시 속성을 가지고 있어야 함
5. 다른 엔터티와 1개 이상의 관계를 가지고 있어야 함

### 3. 엔터티의 분류(★)
1. 유형 vs. 무형
* 유형 엔터티 : 물리적인 형태 존재, 안정적, 지속적(상품, 회원)
* 개념 엔터티 : 물리적인 형태 없음, 개념적(부서, 학과)
* 사건 엔터티 : 행위를 함으로써 발생, 빈번함, 통계 자료로 이용 가능(주문, 이벤트 응모)
2. 발생시점
* 기본 엔터티 : 독립적으로 생성되어 자신만의 주식별자를 가지며 다른 엔터티의 부모 역할을 함. 자식 엔터티를 가질 수 있음. 업무에 원래 존재하는 정보. (상품, 회원, 사원, 부서)
* 중심 엔터티 : 기본 엔터티로부터 파생되어 많은 데이터를 갖게 됨. 행위 엔터티 생성. 업무에 있어서 중심적인 역할을 하며 데이터의 양이 많이 발생. (주문, 매출, 계약)
* 행위 엔터티 : 2개 이상의 부모 엔터티로부터 파생. 보통 설계 초기 단계보다는 상세 설계단계에서 많이 도출됨. 데이터가 자주 변경되거나 증가할 수 있음(주문 내역, 이벤트 응모 이력)

### 엔터티의 이름을 정할 때 주의할 점
* 업무에서 실제로 쓰이는 용어 사용
* 한글은 약어를 사용하지 않고 영문은 대문자로 표기
* 단수 명사로 표현하고 띄어쓰기는 하지 않음
* 다른 엔터티와 의미상으로 중복될 수 없음(주문, 결제 엔터티는 중복될 수 있음)
* 해당 엔터티가 갖고 있는 데이터가 무엇인지 명확하게 표현

## Ⅲ. 속성(Attribute)
### 3. 엔터티, 인스턴스, 속성, 속성값의 관계
* 한 개의 엔터티는 두 개 이상의 인스턴스를 갖는다.
* 한 개의 인스턴스는 두 개 이상의 속성을 갖는다.
* 한 개의 속성은 하나의 속성값을 갖는다. 

### 4. 분류
a. 특성에 따른 분류
* 기본속성(Basic Attribute) 업무 프로세스 분석을 통해 바로 정의가 가능한 속성
* 설계속성(Designed Attribute) 업무에 존재하지는 않지만 설계하다 보니 필요하다고 판단되어 도출해낸 속성
* 파생속성(Derived Attribute) 다른 속성의 속성값을 계산하거나 특정한 규칙으로 변형하여 생성한 속성

b. 구성방식에 따른 분류
* PK(Primary Key)속성 : 엔터티의 인스턴스들을 식별할 수 있는 속성
* FK(Foreign Key)속성 : 다른 엔터티의 속성에서 가져온 속성
* 일반속성 : PK, FK를 제외한 나머지 속성

## Ⅳ. 관계(Relationship)
### 2. 존재 관계
엄마와 아기처럼 존재 자체로 연관성이 있는 관계.
ex) 직원과 부서, 학생과 학과 엔터티

### 3. 행위 관계
특정한 행위를 함으로써 연관성이 생기는 관계.
ex) 회원과 주문, 학생과 출석부 엔터티

### 4. 표기법(★)
* 관계명(Membership) : 관계의 이름
* 관계차수(Cardinality) : 관계에 참여하는 수
* 관계선택사양(Iptionality) : 필수인지 선택인지의 여부

a. 관계명
	바람직하지 않은 관계명 : 연관성이 있다, 관계가 있다, 출석을 했다.
	바람직한 관계명 : 주문한다, 소속된다, 출석을 한다.
b. 관계차수
	각 엔터티에서 관계에 참여하는 수. 일반적으로 1:1, 1:M, M:N 형식으로 구분할 수 있다.
c. 관계선택사양
	필수적 관계 : 참여자가 반드시 존재해야 하는 관계
	선택적 관계 : 참여자가 없을 수도 있는 관계
