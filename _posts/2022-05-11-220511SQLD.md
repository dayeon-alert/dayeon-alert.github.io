---
title: 220511
author: 다연
date: 2022-05-11 23:00:00 +0900
categories: [Study, SQL]
tags: [sql, til, study]
---
## Ⅱ. 반정규화(De-Normalization)
* 반정규화는 데이터의 조회 성능을 향상시키기 위해 데이터의 중복을 허용하거나 데이터를 그룹핑하는 과정이다.
* 정규화를 했을 때 조회 성능이 심각하게 저하되는 경우 반정규화를 고려해 볼 수 있다.
* 반정규화를 하면 데이터 무결성이 저해된다고 볼 수 있다.
* 반정규화를 하면 입력, 수정, 삭제 성능이 저하될 수 있다.
* 반정규화를 하면 데이터 정합성 이슈가 발생할 수 있다.
* 반정규화의 과정은 정규화가 끝난 후 거치게 된다.
* 반정규화는 모든 정규화를 마친 후 성능상 이슈가 있을 때만 고려하는 것이 원칙이다.

### 1. 테이블 반정규화
테이블 병합
* 1:1 관계 테이블 병합
* 1:M 관계 테이블 병합
* 슈퍼 서브 타입 테이블 병합

테이블 분할
* 테이블 수직 분할(속성 분할)
* 테이블 수평 분할(인스턴스 분할, 파티셔닝)

테이블 추가
* 중복 테이블 추가
* 통계 테이블 추가
* 이력 테이블 추가
* 부분 테이블 추가

1. 테이블 병합
업무 프로세스상 JOIN이 필요한 경우가 많아 테이블을 통합하는 것이 성능 측면에서 유리할 경우 고려.
1:M 관계 테이블 병합의 경우 1쪽에 해당하는 엔터티의 속성 개수가 많으면 병합했을 경우 중복 데이터가 많아지므로 테이블 병합에 적절하지 못함.

2. 테이블 분할
a. 테이블 수직 분할 : 엔터티의 일부 속성을 별도의 엔터티로 분할(1:1 관계 성립), 자주 사용하는 속성이 아니거나 대부분의 인스턴스가 해당 속성값을 NULL로 갖고 있을 때 고려
b. 테이블 수평 분할 : 엔터티의 인스턴스를 특정 기준으로 별도의 엔터티로 분할(파티셔닝), 테이블 수평 분할의 기준은 주로 기간이지만 다른 속성이 될 수도 있다.

3. 테이블 추가
a. 중복 테이블 추가 : 데이터의 중복을 감안하더라도 성능상 반드시 필요하다고 판단되는 경우 별도의 엔터티를 추가한다.
b. 통계 테이블 추가 : 통계치를 미리 계산하여 저장한다.
c. 이력 테이블 추가 : 이력 테이블에서 과거의 데이터를 관리한다.
d. 부분 테이블 추가 : 특정 프로세스 수행에 필요한 정보만 부분 테이블로 생성한다.

### 2. 컬럼 반정규화
1. 중복 컬럼 추가
2. 파생 컬럼 추가
3. 이력 테이블 컬럼 추가

### 3. 관계 반정규화(중복관계 추가)
* 업무 프로세스상 JOIN이 필요한 경우가 많아 중복 관계를 추가하는 것이 성능 측면에서 유리할 경우 고려한다.

## Ⅲ. 트랜잭션
* 데이터를 조작하기 위한 하나의 논리적인 작업 단위

## Ⅳ. NULL
* NULL은 존재하지 않음, 즉 값이 없음을 의미한다. 
* 가로 연산 : NULL이 포함되어 있으면 결과값은 NULL이 된다.
* 세로 연산 : 다른 인스턴스의 데이터와 연산할 때는 NULL 값을 제외한다.
